<!DOCTYPE html>
<html lang="en" ng-app="App">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title> App-Plataforma </title>
    <link rel="shortcut icon" type="image/x-icon" href="/img/logo_nav.ico" />
    <!-- Bootstrap Core CSS -->
    <link href="template/html/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.6/angular.js"></script>
    
    <!-- UIkit CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/css/uikit.min.css" />

<!-- UIkit JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/js/uikit.min.js"></script>
<link href="http://getuikit.com/docs/css/uikit.docs.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.3/js/uikit-icons.min.js"></script>

<!--PDF-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>

    
<!-- Bootstrap CSS -->
  		
	<!-- Font Awesome -->
	<link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
	<!-- Style -->
	<link href='template/style.css' rel='stylesheet' type='text/css'>
    <link href="css/tabla_mod.css" rel="stylesheet">
    
    <script src="vendor/jspdf.js"></script>
    <script src="vendor/pdfFromHTML.js"></script>
    
    <!--https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js',
                                        'vendor/jspdf.js',
                                        'vendor/pdfFromHTML.js'-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>
    <script data-require="ui-bootstrap@*" data-semver="0.12.1" src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.12.1.min.js"></script>
    <script src="vendor/dirPagination.js"></script>
    <script src="js/app.js" type="text/javascript"></script>
</head>
<style>
.lds-dual-ring {
  display: inline-block;
  width: 64px;
  height: 64px;
}
.lds-dual-ring:after {
  content: " ";
  display: block;
  width: 46px;
  height: 46px;
  margin: 1px;
  border-radius: 50%;
  border: 5px solid #fff;
  border-color: #fff transparent #fff transparent;
  animation: lds-dual-ring 1.2s linear infinite;
}
@keyframes lds-dual-ring {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

</style>
<!--    <script src="//code.responsivevoice.org/responsivevoice.js?key=WCOiJEwq"></script>-->

	<body ng-controller="AppController">
<!--<a href="#/">Login</a>
<a href="#/inicio">Inicio</a>-->
<div ui-view></div>


<script src="angularjs/angular.min.js" type="text/javascript"></script>
<script src="angularjs/plugins/angular-ui-router.min.js" type="text/javascript"></script>
<script src="angularjs/plugins/ocLazyLoad.min.js" type="text/javascript"></script>
<script src="angularjs/auth.js" type="text/javascript"></script>
<script src="angularjs/localStorage.js" type="text/javascript"></script>
<script src="js/controller/login.js"></script>
<script src="js/controller/inicio.js"></script>
<script src="js/controller/alumnos_matricula.js"></script>
<script src="js/controller/crear_matricula.js"></script>
<script src="js/controller/configuracion.js"></script>
<script src="js/controller/pago_alumno.js"></script>
<script src="js/controller/pagar_otros.js"></script>
<script src="js/controller/alumnos_curso.js"></script>
<script src="js/controller/sedes.js"></script>
<script src="js/controller/cursos.js"></script>
<script src="js/controller/remuneraciones.js"></script>
<script src="js/controller/boletas.js"></script>
<script src="js/controller/alumnos.js"></script>
<script src="js/controller/docentes.js"></script>
<script src="js/controller/usuarios.js"></script>
<script src="js/controller/crear_docente.js"></script>
<script src="js/controller/crear_boleta.js"></script>
<script src="js/controller/asignar_curso.js"></script>
<script src="js/controller/matriculas.js"></script>
<script src="js/controller/crear_remuneraciones.js"></script>
<script src="js/controller/pagar_alumno.js"></script>
<script src="js/controller/editar_docente.js"></script>
<script src="js/controller/editar_alumno.js"></script>
<script src="js/controller/eliminar_alumno.js"></script>
<script src="js/controller/otros_pagos.js"></script>
<script src="js/controller/otras_boletas.js"></script>
<script src="js/controller/editar_usuario.js"></script>
<script src="js/controller/crear_usuario.js"></script>
<script src="js/controller/editar_usuarios.js"></script>
<script src="js/controller/crear_sede.js"></script>
<script src="js/controller/editar_sede.js"></script>
<script src="js/controller/crear_curso.js"></script>
<script src="js/controller/editar_curso.js"></script>
<script src="js/controller/detalle_pagos.js"></script>

<script type="text/javascript">
    var tableToExcel = (function() {
      var uri = 'data:application/vnd.ms-excel;base64,'
        , template = '<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>'
        , base64 = function(s) { return window.btoa(unescape(encodeURIComponent(s))) }
        , format = function(s, c) { return s.replace(/{(\w+)}/g, function(m, p) { return c[p]; }) }
      return function(table, name) {
        if (!table.nodeType) table = document.getElementById(table)
        var ctx = {worksheet: name || 'Worksheet', table: table.innerHTML}
        var excel = document.createElement('a');
        excel.href= uri + base64(format(template, ctx))
        excel.download=name+'.xls';
        excel.click();
      }
    })()
    function checkRut(rut) {
    // Despejar Puntos
    var valor = rut.value.replace('.','');
    // Despejar Guión
    valor = valor.replace('-','');
    
    // Aislar Cuerpo y Dígito Verificador
    cuerpo = valor.slice(0,-1);
    dv = valor.slice(-1).toUpperCase();
    
    // Formatear RUN
    rut.value = cuerpo + '-'+ dv
    
    // Si no cumple con el mínimo ej. (n.nnn.nnn)
    if(cuerpo.length < 7) { rut.style.backgroundColor = "red"; return false;}
    
    // Calcular Dígito Verificador
    suma = 0;
    multiplo = 2;
    
    // Para cada dígito del Cuerpo
    for(i=1;i<=cuerpo.length;i++) {
    
        // Obtener su Producto con el Múltiplo Correspondiente
        index = multiplo * valor.charAt(cuerpo.length - i);
        
        // Sumar al Contador General
        suma = suma + index;
        
        // Consolidar Múltiplo dentro del rango [2,7]
        if(multiplo < 7) { multiplo = multiplo + 1; } else { multiplo = 2; }
  
    }
    
    // Calcular Dígito Verificador en base al Módulo 11
    dvEsperado = 11 - (suma % 11);
    
    // Casos Especiales (0 y K)
    dv = (dv == 'K')?10:dv;
    dv = (dv == 0)?11:dv;
    
    // Validar que el Cuerpo coincide con su Dígito Verificador
    if(dvEsperado != dv) { rut.style.backgroundColor = "red"; return false; }
    
    // Si todo sale bien, eliminar errores (decretar que es válido)
    rut.style.backgroundColor = "";
}
</script>

</body>
</html>
